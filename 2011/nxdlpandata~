#!/usr/bin/tclsh

set defroot /afs/psi.ch/user/k/koenencke/src/workspace/nexus_defintions/applications

set deflist [list NXdirecttof NXfluo NXindirectof NXiqproc NXlauetof NXmonopd \
	NXrefscan NXreftof NXsas NXsastof NXsqom NXtas NXtofnpd NXtofraw \
	NXtomo NXtomophase NXtomoproc NXxas NXxasproc NXxeuler NXxnb NXxkappa NXxrot]

foreach def $deflist {
	set defname $defroot/${def}.nxdl.xml
	set nxname ${def}.txt
	set cifname ${def.cif}
	set tmp hugo.tmp
	exec nxflatten $defname > $tmp
	exec nxformat $tmp > $nxname 
	exec nxformat $tmp cif > $cifname 
} 

exit 0
